(this["webpackJsonpreact-memory-game"]=this["webpackJsonpreact-memory-game"]||[]).push([[0],{32:function(e,t,a){},56:function(e,t,a){e.exports=a(69)},61:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),s=a.n(i),o=(a(61),a(43)),c=a(8),l=a.n(c),u=a(15),d=a(21),p=a(22),m=a(13),h=a(24),f=a(23),v=(a(32),a(88)),y=a(99),k=a(38),g=a.n(k),b=a(31),C=a.n(b),E=a(42),w=a.n(E),O=a(39),j=a.n(O),x={title:"Memory Game",focusConfirm:!1,html:'\n      <h3>Please signUp/ signIn to play game</h3>\n      <input class="swal2-input" id="email" type="email" placeholder="Enter your email..." /><br />\n      <input class="swal2-input" id="password" type="password" placeholder="Enter your password..." /><br />',type:"warning",confirmButtonText:"Login!",allowOutsideClick:!1,preConfirm:function(){return{email:document.getElementById("email").value,password:document.getElementById("password").value}}},M=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).clickMe=e.clickMe.bind(Object(m.a)(e)),e}return Object(p.a)(a,[{key:"clickMe",value:function(){var e=Object(u.a)(l.a.mark((function e(t,a){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/email",{method:"POST",body:JSON.stringify({email:t,password:a}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then(function(){var e=Object(u.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.status||404!==a.status){e.next=6;break}return e.next=3,j.a.fire({type:"error",title:"Email already exist! Please enter valid password"});case 3:n.userDetails(),e.next=9;break;case 6:n.props.previousHistory(a),n.props.handleChangeEmail(t),n.props.clickEvent(a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"userDetails",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.fire(x);case 2:if(t=e.sent,!((a=t&&t.value||t.dismiss)&&a.email&&a.password)){e.next=8;break}this.clickMe(a.email,a.password),e.next=11;break;case 8:return e.next=10,j.a.fire({type:"error",title:"All fields are required!!"});case 10:this.userDetails();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(v.a,{className:this.props.gameStart?"homescreen homescreen--visible":"homescreen homescreen--hidden"},r.a.createElement("button",{className:"homescreen__shuffle-button ",onClick:function(){return e.userDetails()}},"Play Now!"))}}]),a}(r.a.Component),S=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).clickMe=e.clickMe.bind(Object(m.a)(e)),e}return Object(p.a)(a,[{key:"clickMe",value:function(){"unselected"===this.props.position?this.props.clickEvent(this.props.index):console.log("cant click me! my position is "+this.props.position)}},{key:"render",value:function(){return r.a.createElement(v.a,{"data-index":this.props.index,"data-cardtype":this.props.type,onClick:this.clickMe,className:"card card--"+this.props.type+" card--"+this.props.position},r.a.createElement(v.a,{className:"card__inner"},r.a.createElement(v.a,{className:"card__face card__front"}),r.a.createElement(v.a,{className:"card__face card__back"})))}}]),a}(r.a.Component),N=a(98),T=a(100),_=a(91),D=a(92),P=a(93),Y=a(94),A=a(95),B=a(96),H=a(97);function F(e){return console.log("props",e),r.a.createElement(N.a,{open:!0,onClose:e.handleClose,"aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description"},r.a.createElement(T.a,{id:"scroll-dialog-title"},"History"),r.a.createElement(_.a,null,r.a.createElement(D.a,{"aria-label":"simple table"},r.a.createElement(P.a,null,r.a.createElement(Y.a,null,r.a.createElement(A.a,{align:"left"},"Id"),r.a.createElement(A.a,{align:"center"},"Date/Time"),r.a.createElement(A.a,{align:"right"},"Total Move"))),r.a.createElement(B.a,null,e.history.length?e.history.map((function(e,t){return r.a.createElement(Y.a,{key:t},r.a.createElement(A.a,{align:"left"},t+1),r.a.createElement(A.a,{align:"center"},w()(e.timeStamp).format("MMMM Do YYYY, h:mm:ss a")),r.a.createElement(A.a,{align:"right"},e.totalMove))})):null))),r.a.createElement(H.a,null,r.a.createElement(y.a,{onClick:e.handleClose,color:"primary"},"Cancel")))}var I=["michael","mark","andrew","adam","ahmet","david"],J=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).shuffleCards=e.shuffleCards.bind(Object(m.a)(e)),e.pickCard=e.pickCard.bind(Object(m.a)(e)),e.addWin=e.addWin.bind(Object(m.a)(e)),e.ignoreCardClicks=!1,e.state={cards:[],email:null,selectedCards:[],gameStart:1,open:!1,totalMove:0,history:[],registered:!1},e}return Object(p.a)(a,[{key:"multiplyCards",value:function(e,t){for(var a=t-1,n=e,r=0;r<a;r++)n=C.a.concat(n,e);return n}},{key:"shuffleCards",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n,r,i,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],n=0,r=function(){var e=s.multiplyCards(I,2);return C.a.shuffle(e).map((function(e){return{type:e,position:"unselected"}}))},!(t&&t.resumeGame&&t.cards&&t.cards.length)){e.next=10;break}return i=!1,e.next=7,g()({title:"Resume Game",text:"You want to continue last game ?",buttons:{cancel:!0,confirm:!0},type:"warning",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"}).then(function(){var e=Object(u.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a?(i=!0,n=t.totalMove):i=!1;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:a=i?t.cards:r(),e.next=11;break;case 10:a=r();case 11:this.setState({cards:a,gameStart:0,totalMove:n,registered:!0});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeAllPositionsOfSelected",value:function(e,t,a){var n,r=Object(o.a)(t);try{for(r.s();!(n=r.n()).done;){e[n.value].position=a}}catch(i){r.e(i)}finally{r.f()}return e}},{key:"addWin",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.totalMove,e.next=3,fetch("/api/update-history",{method:"POST",body:JSON.stringify({email:this.state.email,totalMove:t}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){g()("Good job!","You complete this game in ".concat(t," move!"),"success",{button:"Play again!"}).then((function(e){a.shuffleCards();var n=a.state.history;n.push({timeStamp:new Date,totalMove:t}),a.setState({totalMove:0,history:n})}))}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"selectedHasSameAttribute",value:function(e,t,a){var n,r=e[t[0]][a],i=Object(o.a)(t);try{for(i.s();!(n=i.n()).done;){if(e[n.value][a]!==r)return!1}}catch(s){i.e(s)}finally{i.f()}return!0}},{key:"checkForMatch",value:function(e,t){this.selectedHasSameAttribute(e,t,"type")?(e=this.changeAllPositionsOfSelected(e,t,"removed"),!1!==C.a.reduce(e,(function(e,t,a){return e===t.position&&e}),e[0].position)&&this.addWin()):e=this.changeAllPositionsOfSelected(e,t,"unselected");return e}},{key:"pickCard",value:function(e){if(!0!==this.ignoreCardClicks){var t=C.a.concat(this.state.selectedCards,e),a=this.state.cards;if(a[t[t.length-1]].position="selected",2===t.length){this.setState({cards:a,totalMove:this.state.totalMove+1});var n=this;this.ignoreCardClicks=!0,setTimeout((function(){a=n.checkForMatch(a,t),t=[],n.ignoreCardClicks=!1,n.setState({selectedCards:t,cards:a})}),750)}else a[t[0]].position="selected",this.setState({selectedCards:t,cards:a})}}},{key:"handleDialog",value:function(e){this.setState({open:e})}},{key:"previousHistory",value:function(e){this.setState({history:e.history})}},{key:"handleChangeEmail",value:function(e){this.setState({email:e})}},{key:"handleConfirmLogOut",value:function(e,t,a){this.state.totalMove?g()({title:"Are you sure?",text:"You want to save this game ?",buttons:{cancel:!0,confirm:{text:"Yes",value:"Yes"},roll:{text:"No",value:"No"}},type:"warning",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"}).then(function(){var n=Object(u.a)(l.a.mark((function n(r){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=4;break}return n.next=3,fetch("/api/save-game",{method:"POST",body:JSON.stringify({email:e,cards:t,isConfirm:r,totalMove:a}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()}));case 3:window.location.reload();case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()):window.location.reload()}},{key:"render",value:function(){var e=this,t=this.pickCard,a=0,n=this.state,i=n.registered,s=n.gameStart,o=n.totalMove,c=n.email,d=n.cards;return r.a.createElement(v.a,{className:"memory-app"},r.a.createElement(M,{gameStart:s,clickEvent:this.shuffleCards,previousHistory:function(t){return e.previousHistory(t)},handleChangeEmail:function(t){return e.handleChangeEmail(t)}}),i&&r.a.createElement(v.a,{className:"cards",style:{paddingTop:46}},r.a.createElement(v.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",style:{padding:22}},r.a.createElement(y.a,{variant:"contained",color:"primary",onClick:function(){return e.handleDialog(!0)}},"History"),r.a.createElement("h3",null," Total Move : ",o),r.a.createElement(y.a,{variant:"contained",color:"primary",onClick:Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.handleConfirmLogOut(c,d,o));case 1:case"end":return t.stop()}}),t)})))},"Logout")),this.state.cards.map((function(e,n){return r.a.createElement(S,{index:a++,key:n,clickEvent:t,position:e.position,type:e.type})}))),this.state.open&&r.a.createElement(F,{handleClose:function(){return e.handleDialog(!1)},history:this.state.history}))}}]),a}(r.a.Component);var G=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(J,null))};s.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(G,null)),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.1cf6a9e0.chunk.js.map